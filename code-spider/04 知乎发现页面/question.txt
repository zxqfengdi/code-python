问题：电动车因为具备了能量回收功能可以减少多少能耗呢？
答者：绿芯君
回答：这是个很不错的脑洞，应该比较适合我来回答。
@苏黎世贝勒爷 基于NEDC工况和整车阻力的分配情况，给出的结果是约15%， @张抗抗 基于多年前的工程经验，结论是8.9%。按照国家要求，新能源汽车会上传一些必要的动力系统参数运行数据。我们下载了一辆上海市纯电动出租车，并随机挑选一天的运行数据，进行了计算。
先说结论，在理想情况下，电动车因为具备了能量回收功能，可以回收高达34%的能量。一开始算出这个值，的确高的超出了我的想象，我还去重新check了一遍计算过程。后来重新考虑了一下，开始有可能实现的——




2019年7月1日，中雨转小雨，气温22-27℃，当天气温合适，空调用电不算多。司机师傅隔夜用家里的慢充桩充满了电，早上6点03分就出门开始了一天的运营。中午12点的时候他休息了40分钟，吃饭的同时顺便用快充补了一些电。
下午继续运营，到晚上7点多的时候就回家休息了。一整天一共行驶了285km，共消耗电量37.6度，平均能耗13.2kWh/100km。去除休息时间，一共运营了12个小时，平均车速23.8km/h。
一天运行的数据如果放在Excel里，会有四万多行。
初中的物理老师告诉我们，功率乘以时间，得到做功的多少，就是能量。这些数据中，包含了电池SOC（剩余能量），实时的电压和电流。通过电压与电流的实时乘积，可以获得车辆实时的功率。信号的精度是每秒1帧，虽说不可能达到无穷小，但是对于一天（4万s以上）的时间长度来说，这样的算法可以实现基本的精度需求。
功率曲线与横坐标围出来的面积，就是能量。通过对功率在时间上进行积分（就是曲线与横轴围出图形的面积），可以算出这段时间里车辆消耗，和回收的能量。
定积分最直观的应用，就是求两条曲线间所夹图形的面积。
把这一整天四万多个电池母线电流与电压的实时状态乘起来，连成一条线。这条线与横坐标轴所夹的面积，在横坐标上方的就是输出能量，约57.2度电。在横轴下方的就是回收能量，约19.6度电。也就是说，回收了大约34%的能量。
由于信号质量的问题，以及1s的精度只能模拟微积分，根据经验这个计算结果可能有10%左右的误差。就是说结论是35.5%，有可能是37%，有可能是32%。
获得这个良好的结果，有几个条件。首先，这台荣威Ei5出租车，装备了i-Booster，也就是智能的制动能量分配装置。一般在0.3g以下的制动需求，都会交由电机，而非刹车卡钳来进行制动，以减少能量的损失。能量回收的比例和效率会略高于没有装备这套系统的车辆，要高3%左右。
尽管刹车踏板还是和油缸机械连接着，但是用i-booster的车型上不见了传统的真空蓄能器
其次，NEDC或其他标准工况是默认在平地上行驶的，实际上道路坡度对于能量的回收是有影响的。
还有，空调和附件消耗的能量无法回收，如果气温高过35℃，空调等附件消耗的能量达到整车能耗的25%-30%也是很正常的。而当天的气温也非常合适，导致“34%”这个计算值非常理想。
那如果把i-Booster功能去除，将制动回收减速度调到一个比较低的值，会怎么样？
我们还进行了一次实测。
在7月初（今年入夏较晚，当时气温约28℃）下班拥堵的嘉松公路上，对比测试了两种情况——
1、去除i-Booster功能，并将制动能量回收强度的上限设到0.05g（不是完全没有，只是设了一个上限）。
2、正常情况。
结论是，随着能量回收强度上限的加大，以及i-Booster的智能接入，在能号上就产生了约10%的差距。
而这还是保留了0.05g的能量回收的情况下产生的，而这最小的0.05需求，往往是边际效应最高的那一部分，就像你很饿的时候去吃自助餐，总是第一波食物带来的满足感最高。如果完全去除能量回收功能，能耗产生的差值，毫无疑问会更大。也从另一角度，印证了34%这个数值，在较为理想的情况下，是可以实现的。
当然，并不能因为这个数字很高，就体现电动车相对传统车的有多大的优势。毕竟现在各大整车厂都逐渐意识到，要让电动车跑得更远，加大电池的做法很容易达到极限，也会带来很多成本、重量、空间上的弊端；而降低电耗与加大电池同样重要。
只有充分利用好每一份能量（在这其中能量回收功能的贡献非常重要），才能造出满足市场需求的电动汽车。这只是刚刚合格而已。
典型工况滑行减速度需求时间分布情况

问题：如何成为一个优秀的技术美术？
答者：大雄
回答：推荐关注一个推特用户@OskSta ，Oskar Stålberg
我在油管看了两个他的演讲，都是关于bad north的开发细节。
他曾经是育碧的TA，离职后一名好友一起做了独立游戏Bad north，游戏内地图生成算法，寻路mesh，2d3d美术都是他做的。


关注他之后，因为推特的推荐，我又关注了许多做procedural generation的推特用户，真的可以看到非常非常多有趣，并且有潜力的东西。marching cube，wave function collapse，ray tracinig，ray marching，procedural terrain，constrained program，都是这些人日常在分享的东西。
因为procedural generation的应用在业内没有非常广泛，不是每个项目都在用，所以工具，应用都很少。但反而是因为应用少，所以独立游戏圈的人就很需要相互分享学习，这方面资料反而变得更容易获取。
大家会直接分享相关的算法，你看一个技术博客有时候几乎相当于看技术书籍原著了。这个方面的事情非常面向应用，面向工程，面向工具，做出来以后会非常有成就感，做的多了以后，能很大提高技术美术相关业务的实现能力。
everything from scratch，everything procedural，兴趣才是最好的老师
补充一些相关内容demo，都是大佬们做的，我只是个初学的萌新
brick block by oskar https://www.zhihu.com/video/1142915236511211520 procedural book https://www.zhihu.com/video/1142920605413396480 procedural moon terrain https://www.zhihu.com/video/1142921793282166784 procedural terrain https://www.zhihu.com/video/1142922089530085376

问题：如何以六小龄童评论《西游记》的语气和态度来评价《哪吒降世》？
答者：苏沉船
回答：卖书演讲版本
最近有一部关于哪吒，很火的动画片，我不好直接提它的名字。别人给我举荐说这动画很受年轻人欢迎，让我去看看，发表一下评价。我看到封面，哪吒跟髭毛炸鬼一样，我说髭毛炸鬼那不是沙僧吗？他们又说哪吒是天生的魔童，这不是乱来吗？哪吒都弄成了红孩儿。哪吒是帮助武王伐纣的大英雄，一直以来都是正面形象，现在他们整的像个二流子一样。像这样的动画片很容易被小朋友模仿，他们看着哪吒到处欺负人，觉得有趣就跟着去学，里面传扬了一种很不好的精神。我觉得这是对我们传统戏曲文化一种亵渎，所以我常常讲戏说不是胡说，改编不是乱编，无论怎么变，最重要的是精神内核不能变。
要吃饭版本
首先我要恭喜《哪吒之魔童降世》取得那么好的成绩，让我看到现在的年轻导演多么敬业。我想起严定宪、王树忱先生执导的动画片《哪吒闹海》在当年是多么的火爆。当时我还没有正式出演《西游记》，虽然也知道哪吒的故事，不过《哪吒闹海》先给我塑造出一个好的动画形象，后来我跟杨斌先生饰演的哪吒合作，又从他身上学习到哪吒那种勇敢的精神.....（省略六小龄童歪题谈论了五分钟《西游记》剧组内容）
现在我看到《哪吒之魔童降世》里的剧情跟以前不太一样，不过我认为哪吒那种不畏强权，不屈不挠的精神永远是不变的，这让我感到很欣慰，现在太多作品胡编乱改，已经歪曲了我们戏曲中的传统精神。
我也很感慨这么多年中国的电影技术在进步，3D特效做的跟美国的大片一样，我希望以后有机会的话，可以请他们的团队来跟我一起合拍我的新电影《敢问路在何方》，如果是顺利的话，我看今年下半年就可以开拍。我希望大家也多多支持这样拥有传统文化的国产动画，也多多支持我即将开拍的新电影，谢谢大家。

问题：如何评价《长安十二时辰》44 - 46集？
答者：知乎用户
回答：本来绝望中的一点希望
你说等天亮
天还没亮，你就给我看这个？？？
天刚亮，你又给我看这个？？？？
所谓悲剧，就是把美好的东西，撕碎了给你看。——鲁迅
写不下去了。我先冷静一下。
剧中的好父亲，如闻无忌、曹破延、祝慈、Tony老师，至此都死绝了。
难道非如此不足以表现出与过去的决裂吗？？？
檀棋这话问的，满满的槽点啊。
吉司丞呢？
吉司丞被人塞了臭袜子。
这个桥段，其实是元载的戏。
是日··· ···乃赐载自尽于万年县。载请主者：“愿得快死！”主者曰：“相公须受少污辱，勿怪！”乃脱秽袜塞其口而杀之。（《资治通鉴·唐纪 代宗大历十二年》）
元载被戮前，跟主事的人说，给我来个痛快的。主事的说，相爷，得蹂躏您一下，别怪我。于是脱了臭袜子，塞进元载的嘴里，把他杀了。


当然，对权力的游戏，“公共狱友”程参表示：我没兴趣。
给你个白眼
挥手自兹去
（以下为演绎）程参此后的消息时断时续。五年后，有人说在西域见过他，他那时正在安西四镇节度使高仙芝的帐下，充任幕府书记。又过了五年，另一位名将封常清节度安西，程参又做了他的判官，直到两位将军都含冤而死，他才返回中原。后人评价他说：其记西域异事甚多……古今传记所不载也。
今天的小tips，只写一段，谨此来纪念这个很有可能成为唐代最伟大天文学家的孩子——祝玄。
欲知这是何物？我们还得从头讲起。
中国是一个农业社会，种地是最重要的营生。种地要讲究按照一定的农时，这时候就需要有科学的历法。同时，皇帝认为掌握了天体运行规律和对天象的解释，是他作为天子的一个权力象征，所以历朝历代都特别重视编订历法这件事。唐代前期，通行的历法是李淳风主持编订的麟德历。但是一部历法用的久了，难免会有误差。玄宗的时候，用麟德历预测了几次日食，都失败了，玄宗很不爽，于是在开元九年的时候，请著名天文学家僧一行主持新的历法的编订，这部新的历法，就是著名的《大衍历》。
对唐密有所了解，或者玩手串的知友，可能都知道开元三大士，善无畏、不空、金刚智。一行跟他们同属唐密一系。除了唐密祖师这个身份，他还是著名的天文学家、水利学家。
我们知道，要想编订准确的历法，就需要有准确的观测数据，尤其是测定日、月和主要行星在自己轨道上的位置和运行情况。而观测数据准确与否，主要看观测仪器。上图祝玄手里面把玩的这个东西，就是当时最先进的天文观测仪器，学名叫做黄道游仪。
黄道游仪先进在哪呢？（以下需要部分高中地理知识）
原来以前用来测量日月星辰的仪器，基本上都是赤道装置。这样测得的天体位置，是用赤道的坐标来表示的。而行星们的轨道在黄道平面，都是绕着太阳运动的，黄道和赤道有一个夹角。这样如果把天体相对于赤道的数据转换成天体自己公转轨道的数据，就需要多算一次。当时数学不行，算的太糙，就因为这多出来的一次，误差就大了去了。
黄道游仪就是为了解决这个问题发明出来的。有了这个神器，天文学家就可以直接记录日月星辰在黄道平面的位置坐标，省了一道运算过程，观测数据的准确性就大大提高了。
这个黄道游仪就是梁令瓒做出来的。
梁令瓒本是太子率府（那会儿太子还是李瑛）里的兵曹参军。僧一行要制历，提的需求就是要有好的观测设备。梁令瓒先制作了一个木制的小样，一行大加赞赏，于是开始改用铜制作。可惜我们今天没有办法确切知道他长什么样子，据科学史家的推测，主要的结构应该跟我们上面图里的差不多。
仪器做好了之后，一行用他来观测了150多颗恒星。经过与汉代观测数据的比较，发现了一个意外惊喜：恒星的位置是在变的。当然，那个时代的人，并不知道这个现象背后的物理意义。但毕竟是有史以来的第一次。
正是在这个黄道游仪的基础上，一行最终完成了《大衍历》的编订。
伴随着国家科学基金项目《大衍历》的编制，还有几个名垂青史的科研产出：比如一行、梁令瓒等人制造的开元水运浑天（类似于大机械钟，英国著名的科学史家李约瑟就认可说机械钟表的擒纵结构是一行他们发明的），根据测量日影长度间接测得地球子午线得长度等，这些在当时都是领先世界的技术创举。
开元水运浑天示意图 这个图描述的是宋代苏颂的装置 这里仅做参考 来源：https://www.xuehua.us/
据说自从有了这个自动报时装置，人才脸庞灵就再也没来上过班··· ···
对了，梁令瓒不仅是个科学家，还会画画，可谓科学艺术两开花。
据说人物画的特别好。以下就是他的作品，描摹的是他心目中各个星宿神仙的样子：
梁令瓒 《五星及二十八宿神形圖》 来源：https://www.wikiwand.com/zh-hant/%E6%A2%81%E4%BB%A4%E7%93%92
最后，再心疼祝玄这孩子三分钟。
对于想从剧里看门道的朋友，想再说两句题外话。
作为一部以历史为背景，且细节还原非常到位的佳作，我们在追剧的过程中从历史的角度切入，是很自然的一个点。
那么我们学历史，要习得的核心能力是什么呢？我认为主要是一种历史感。具体说就是时序、因果、变迁。
没有时序的概念，我们就无法感知唐代前后两个时期的差别根本就像两个朝代；没有因果的概念，我们就容易把大量相关不相关的事件想当然判断成有因果联系的事件，从而梳理出来一个歪歪扭扭的逻辑链条；没有变迁的概念，历史便只是一系列百科词条，死在那里给你看。
其实，看剧的过程中碰到人名官名，查查百科，抢个首答挂出来，是个很简单的事情。但是我觉得大家既然选择了知乎这个平台，所求就应该再多一点。
第一次在知乎上跟大家完整地追一部剧，从各位知友身上学到很多，言不尽意，让我们大结局见！

问题：如何看待姜丹尼尔没有参加与WANNA ONE 2周年聚会？
答者：别看了确实是个小号
回答：饭桌上笑声连连群情欢洽，九个人在封闭空间把酒言欢。
“其实前天才跟大辉见过。”“待机室？”“不是，就是约着一起吃顿饭，佑镇也在。”“腿好了没就乱跑，贪吃死你算了。”“呀，是他俩扭着我去吃的，ok？”
期间忙内聊了聊解约风波的事，哥哥们都纷纷安慰，邕圣祐拍完戏才过来，迟到被罚多喝了几杯，已经有点微醺了。
“珍映不知道多吃点？嗯？”黄旼炫摸摸人后脑勺，裴珍映埋头啃着鸡翅，“在吃呢不这是。”比在解散前还要更瘦了，黄旼炫叹口气收回手。
“不过哥没关系吗。”知道裴珍映在担心什么，毕竟他回前团后粉丝争议本来就大，黄旼炫笑笑，“没关系的。”
吃饭的吃饭，喝酒谈心的谈心，说心里话的说心里话，开玩笑的开玩笑，调侃回忆两不误，一瞬间九个人都有种梦回解散前的感觉。
“不要感到抱歉了哥…我们知道的…别可惜，以后有的是机会是不是…”
“智圣哥？”河成云揽住朴志训肩膀，问，后者点点头。
“你们少喝点，注意早点休息，都挺忙的，别玩太嗨了…”“哥也要注意健康。”
通话后，尹智圣让经纪人提前过去结账，窃笑一声，深藏功与名。
河成云组织大家一起玩游戏，酒过三巡后激烈氛围变得有些惆怅。在讨论谁结账时，都纷纷各种推脱，拍剧的拍剧出solo的出solo成团的成团，但没人觉得自己是挣最多那个。
结束前有不少人想偷偷先去结账，却没想尹智圣早就抢先了。
“呀！这群饭桶！真的胃口一点都没变差啊！”
知道账单后在军队里尹智圣大声咒骂道，一群准备散伙吃饱喝醉的觉得背后有点发毛，邕圣祐抓抓脑袋，“我…我…我们可以下一局…”
金在奂嫌弃推开他，“真是…”
他是最后一个离开的，最近虽没有其他哥哥弟弟忙，不过也要开始准备下一张专辑了。










至于姜丹尼尔为什么没去？
爱去不去，谁会因为他不去不聚咋的？没他十碗照样聚，这问题我第一反应就是：滚滚滚，还能有啥看法，不去更好，吃饭都没那么噎！






——假装分割线
有人问为什么要写这个小故事，大家怎么看姜丹尼尔没去两周年聚会的事，实则他去不去对另外十个人完全没影响，他去了，大家顶多尴尬下该吃吃该喝喝。吃完饭之后私下平时关系照样好，就算不聚餐也经常电话短信联系，时不时还出来再吃饭，他们不可能每次都会与粉丝说，那些解散的团和一些别的爱豆，不也经常被拍到私下逛街吃饭吗？感情好不好，有眼睛的粉丝看得明白。他不去更好，大家肆无忌惮吃饭，不用顾及一些破事。
有人担心十碗中还有人恋爱的，我这么给你说吧，就算真还有人谈恋爱，任何一个人，只要没像姜丹尼尔这么曝出来，也不会让大家尴尬。我问你，平时一群好哥们出来夜宵，全是聊自己女朋友话题？我身边，有女朋友的一群好哥们聚餐，聊啥都不聊女朋友，最多一笔带过。交朋友看的是你这个人，又不是看你女朋友，关键不在于好兄弟有没有谈恋爱，而是好兄弟的人品问题。
姜丹尼尔就不一样了，大家寒暄时问：最近怎么样啊？就这种日常询问，姜丹尼尔怎么说？说最近谈恋爱挺快乐的就是被网友粉丝骂得有点惨？这也太抽象了吧…不说这个又说什么，全团最后一个出道，活动也没活动多久，事业没什么聊的深度，之前还跟所有人断了联系，聊锤子？我甚至怀疑就算他没曝出恋情这档子事，两周年聚餐也不一定去！
那时粉丝说辞就会变成：我哥巨c，你们这群糊b也配再和他一起吃饭？解散了就不要再倒贴了，他不去给我们长脸，不愧是大明星！！一辈子走solo路叭！！
有粉丝现在猜测十碗还有人恋爱，侧面也反映，姜丹尼尔爆恋情真的对十碗带来坏影响了，比如说，他们大部分人都野心勃勃好好搞事业，矜矜业业唱歌跳舞营业爱粉丝，就因为姜丹尼尔作死，他们无端被揣测，尽管爱他们的人大部分都还爱，可评论我也看得出来，这种负面影响确实是存在了。
这对十碗公平吗？他们是善良敬业的人，粉丝因为别人怀疑自己，他们怎么想？别说他们对姜丹尼尔还有没有感情，下意识都会反感，毕竟他们不是普通人，粉丝揣测是直接影响自己事业的，所以姜丹尼尔与他们感情究竟会不会受影响，显而易见。
（姜丹尼尔谈恋爱时碗还没解散，粉丝都觉得他没把团当回事，你觉得十碗是傻子？一群大部分成年的成年人，心里没有定夺？他们比我清楚得多，这点就笑而不语啰～）
况且我觉得他们本来也没啥感情，主要因为姜丹尼尔这人不行。
二更这些原因就是，希望大家不要连坐效应，也别一杆子打死一杆人，姜丹尼尔自己作死别去质疑前队友，他们是无辜的，就算往最坏方向想，他们中还有恋爱的人，但因考虑粉丝看重事业前途未来，至今没有曝出来，就已经比姜丹尼尔好一千倍一万倍了。至少他们都比姜丹尼尔看重粉丝看重自己偶像生涯得多。
有些人，没我们想象中那么好，但有些人，也没我们猜测中那么差。尊重十碗，别给他们莫名压力，别因为无厘头理由怀疑他们。就算他们中还有人设，他们有职业道德，十碗十人对自己负责一天，就一天在我这儿合格。
碗妹放心洗碗，继续操团魂，别因为一颗老鼠屎坏了一锅汤，嗯嗯，冲啊！！

问题：你们都是怎么入的罗云熙的坑？
答者：Chris
回答：不请自来，我是6月入坑的新粉 。
我的入坑原因挺奇葩的 ，一开始是室友在看《白发》，当时她看到第2集吧，男女主的戏份，我好奇就瞅了一眼，诶服化道不错啊，女主古装扮相好看诶，我这个古装迷就去看了哈哈哈哈。然后，就看到了容齐，(我去年没有看过香蜜，但是不知道为啥知道罗云熙 ，好像是出圈图见多了，因为我经常上微博)。一是因为演员扮相好看，二是觉得这个人物有什么故事，我对容齐这个角色产生了兴趣，于是我就百度了这个人物，知道了这个人物悲惨的命运。我是个同情心较重的人，这个人物太过可怜无辜，这让我十分心疼，于是我喜欢上了容齐，哈哈哈深井冰一样 ，我也不知道为啥我老是会喜欢上悲情的角色，总是给自己找虐 。
喜欢上容齐后我就对演员也起了兴趣，我心想那就看看真人啥样呗，我就去了微博 ，本人微博内容挺有趣啊，不像其他明星的都是广告，于是看着看着我就去了超话，这时候正是端午节，是的粉丝没猜错，我赶上了端午风波 ，这也真是没谁了，刚对一个演员起了兴趣就看到他被别人黑得体无完肤，我太“幸运”了……整场风波持续了至少5天吧，我全程都看了……我也不知道为啥，我没追过星，也讨厌娱乐圈更反感骂人，可能这就是命吧，命中注定逃不过罗云熙的大坑[捂脸]。
按理说我看到这种大型撕#会对双方都产生厌恶，再也不想看见俩人，但这场风波没有让我讨厌罗云熙，也没有让我敬而远之，因为我发现黑子们上蹿下跳歇斯底里地蹦哒了那么多天，愣是一点像样的黑料都没挖出来……这你能信？！这真是一个30岁的在娱乐圈工作了8年的艺人？！我当时都震惊了，也打心底里为那些黑子感到悲哀 ，所有他们拿出来的黑料都是人家的光荣历史，我不用自己考古就被黑子们迅速科普了罗云熙过往灿烂的一切，给我乐得哟 。就这样，不洗手家的低智粉丝让我了解到了聚光灯外的罗云熙，种种优点我就不一一列举了，结果就是我被罗云熙的个人性格魅力和优秀的才华死死圈住，我，入坑了。
之后去补香蜜，各个app 来回穿梭得了解他，不过是盖土罢了 ，我每天从醒来就搜他，一直到晚上2.3点，看现在的情况我在这坑里是出不去了，如果不出意外，我活着就会一直粉他 。就简单聊到这儿吧


光有文字太干了点，美图作尾吧~以上
(图源水印，侵删)

问题：你和你的猫是怎么相识的？
答者：影流教徒
回答：不是我的猫，是我爸的。
之前我爸上班的厂倒闭就重新找工作，然后做了保安。
去年有一天我爸突然发现厂区里有一只猫在玩，我爸去逗她她还不理。我爸可是猫薄荷体质，平时站在那就有猫凑过去的那种，这只猫他逗了半天居然不理他。
我爸很不开心就跟那猫说：你现在倒是潇洒，到了冬天我看你怎么办。
她好像听懂了，第二天就跑到我爸上班的保安室门口求收养了。
说到这不得不提一下，家父是个很有童心的人，他总觉得动物能听懂人话。
比如他会很认真的跟他的猫聊天，虽然我没见过，但是听我爸的转述大概就是。他抱着猫说人话，猫晃着尾巴有一搭没一搭的回应。
以前家里养的鸽子他也经常把鸽子抱着跟鸽子说话，然而鸽子并不鸟他。
他上一个工厂老板养在厂区里的两头牛，他也经常去跟牛说话。
有一次母牛生病了，公牛在一边吃草，我爸路过就跟公牛说：你还在这里吃草你老婆都病了你还不去看看她。
最神奇的是公牛真的听懂了，当场就跑去找母牛了。
这事好几年了我爸还一直津津乐道。
跑题了，接着说猫。
猫跑来之后我爸就收养她了，一开始我爸给猫吃的比自己都好，各种买鱼买肉亲自做来给猫吃，但是猫每次吃一段时间吃腻了就不吃了，搞得我爸很头大。有一天我爸又念叨这猫又不吃肉了怎么办，我就说你给她买点猫粮试试。买回去后发现还真吃了，这猫也是真的挑食。因为我爸比较节省所以买的是便宜的猫粮，有一次我爸忍痛给她买了一个很贵的猫粮，结果她居然不吃¬_¬
一开始我爸收养她时以为是她真的怕冬天没办法，后来才发现是她怀孕了。我估计她要是没怀孕还真不一定会送上门来。
可惜的是她生的那一窝小猫没养活，我爸没经验，猫也没经验而且不知道什么原因她没有奶结果那一窝小猫全饿死了，我爸心疼的把猫宝宝都处理了。猫第二天找不到自己的崽满屋子乱窜，我爸抓着她跟她说：你还找什么呢，你的孩子全死了你又不是不知道。
猫好像听懂了不再找了，但是哀嚎了很久。
今年她又生了一窝崽，因为之前的事她很没安全感，经常叼着小猫跑来跑去。有一天我爸没看到小猫，就问她你的崽呢？又藏哪去了？她装听不懂的看着我爸喵喵喵的卖萌，可惜我爸不吃那一套，让她赶紧弄回来。最后猫没办法就带着我爸去厕所，到厕所洞里一只一只的把孩子掏出来了。。。我爸哭笑不得的一个一个给他们清理，哈哈哈哈哈
↓这张照片是她刚生没多久的时候我爸拍的（老年人不太会拍照不够清晰，见谅）。她非要挤在这破纸箱里，我爸也没办法。
↓这张是我爸上夜班的时候顺手拍的。
我手机里就这两张，因为我爸没有把它带回家所以我也没见过她就这两张照片还是我爸发给我的。
我爸不带她回家的原因一个是因为她很缺乏安全感，到了新的环境可能会因为害怕做出应激反应。
再一个是因为她本身是野猫，用我爸的话说就是本来就是自由惯了，突然关着她怎么受得了。
而且我爸收养她之后，她也经常跑出去玩，每次回来之后还要喵几声告诉我爸她回来了，经常半夜的时候回来喵喵喵的叫告诉我爸她回来了，然后我爸就会跟她说：回来了？回来就自己吃东西去，然后她就不叫了。（我觉得我爸可能是拿她当女儿养，突然感觉自己地位岌岌可危）
考虑到这些问题所以我爸一直没带她回家过。
对了，她不是没有名字而是我爸是个起名鬼才，他给猫起的名是烧包谷。这么漂亮的小母猫叫这名，我实在是有点接受无能所以全程称呼她为猫。
说起来我是真的羡慕我爸的吸猫体质，明明是亲生的，为什么我只能吸狗。

问题：网吧住一个星期大概多少RMB？
答者：九七
回答：三更：情况说明
我感觉我要火了，突然这么多赞。
1、我只是开了个小网吧加盟了网鱼，我现在不招聘。招聘图是58截图来的。工资待遇比一般网吧高20%，服务员男女比例在我这里1:1。
2、城市在杭州，网吧风格或者布局是网鱼统一设计的，各地都一样。
3、网吧不会拒绝蹭睡，请参考我另外一个答案。不花网费也是可以的。不要给网吧添麻烦这个很重要！
4、对于洗澡的问题，我只能说我没有经历过公共澡堂。但是评论下面都提到了这点，说明注意个人卫生已经达成共识。
5、对于想加入这网吧行业的年轻人来说，网吧行业天花板比较低，成长空间有限，作为一个过度可以，自己要有长远打算和思考。工资水平只能跟着社会工资水平提升而提升是比较被动的，工作10年之后的竞争力也没有优势。
6、总是有人怀疑12元的外卖存不存在，我确定的告诉大家，我吃过4.76元的外卖，用了5元优惠券，不用优惠券也是不到十元。怎么量大呢，加两份米饭。
原答案：
我是网吧老板，我很有发言权。
通宵包夜时间段0:00-9:00，最便宜的机子每小时4元，包夜20，最贵的每小时12元，包夜40！
按最低的标准来算，每天玩16小时，睡以及出门走走8小时来算！合理的安排应该是下午4点开始上机，16:00-24:00上机费用32元，0:00-9:00上机费用20元。一天52元的上机费用充值还有充送部分，打7.5折，网费在39元！
吃的部分:每天20元。
9点出门买早餐，8元，包子馒头面条水饺。
午饭就省了
20:00吃一份量大的外卖，12元。
喝的就找网吧要开水，自己准备一个杯子，用网吧的饮料杯可能要收费。
9:00-16点期间在网吧休息区或者找个没人的包厢睡觉，我的店里每个包厢都有一张2m*0.8m的沙发！这段时间是网吧的空闲时间，没人赶你。住上三天之后跟网管和收银都混熟了就更好说话了。
注意个人卫生，你发臭了网吧是可能赶你的。
每三天去开个钟点房洗个澡。费用在50元。跟酒店保洁混熟了给他20让你20分钟洗下这是可以的。
平均每天70元就可以搞定了，如果还高还需要缩减的就是网费了！
更新：
还有一个办法，还能赚钱，就是应聘网吧的临时外场服务员，上网免费，工资16-18一小时。

问题：CPU 的工作原理是什么？
答者：王锐超
回答：文章比较长，不过我相信是值得花时间观看的，一定能看到别处看不到的知识，能对 CPU 有更为深入的理解。第一部分是补充背景知识的综述部分，我相信就算是外行耐下心来看也是可以读懂的；文章的第二部分深度会有增加，下面为第二部分的目录，有基础知识的建议直接跳到后面去阅读。
1，为什么 MOSFET 是 逻辑电路的最基本单元，为什么电路最基本的逻辑是‘非’，以及为什么逻辑是“与非’ ‘或非’而不是 ‘ 与’ ‘或‘
2，把‘电子’ 装进盒子里的各种储存单元：register（俗称寄存器，L0 cache），cache（SRAM），DRAM（俗称内存）， & Flash Drive （俗称‘闪存’）
3，TDP，主频，超频及其相关
欢迎大家指正错误！我会及时改正的。
如果大家还有感兴趣的话题在下方留言即可，答主一定会认真回复的， 谢谢支持！！！


1 大致感受一下 CPU 是什么
家用电脑里的 Intel ， AMD 处理器
手机里，高通的骁龙处理器，三星的 Exynos，华为的 麒麟，千元机的 MTK；苹果的 A 12。
商用电脑 Intel 至强（在文中这个不展开）
Major parts of a CPU
上图中，你可以看到，CPU 里有两部分：
一部分叫做 Control Unit，负责控制。比如计数器，指令寄存，等等。
一部分叫做 Logic Unit，负责运算。比如加法器，累加器，等等。有些也会把 ‘ 数据总线’ 归于逻辑运算单元里。
其实 CPU里还有存储单元等其他单元，比如 L1，L2，L3 Cache 等等。
输入设备就是 鼠标，键盘，触控板，触摸屏等， 用户通过这些东西对电脑进行输入指令，CPU识别指令后进行运算，进行输出，一般输出给了屏幕。 在这里举一个例子：用户通过触摸屏，对手机进行操作，比如说点击播放音乐，CPU接收到指令后，命令 DAC 解码，扬声器接收到音频信号进行播放，屏幕显示歌词。
CPU 就类似于一个管理者，他不去做 ‘苦力’ 活，让更专业的人去做更专业的事。这样就能最大程度上的提高了 整个系统的效率。CPU 虽然叫做 中央处理器，所以它不仅仅是处理，而是对一些更基本的处理器进行控制：
‘苦力活‘指的是 CPU 并没有驱动大电流的能力，比如安装好‘驱动软件‘之后，CPU就可以和显示屏上的处理器就行沟通，显示屏上的处理器再来控制显示屏的‘驱动电路’ （Driver），驱动电路驱动显示屏显示图案。在工业上，苦力活用 PLC[1]来控制。一般的，PLC 会受到更上层 CPU 的控制。
更为专业的工作指的是：比如图形处理会交给 GPU [2]来做；音频的解码交给‘声卡’ [3]AD/DA； 更为高级的音频处理，比如说‘降噪耳机’ 就需要一种叫做 DSP[4]进行处理；在为复杂一些的处理，比如说苹果笔记本上的触摸板会有一个专门识别触摸的芯片，叫 单片机[5]。新的 MAC PRO 加入了 FPGA [6]视频剪辑卡，可以做到 3条8K 视频同时剪辑。


（1.1版本补充内容，等有空后会后续补充）
computer architecture 计算机的架构[7]（ISA）是一个非常宽泛的概念：
Instruction set architecture 指令集架构（ISA）[8]（精简指令集，复杂指令集）
microarchitecture 微架构 [9]（ 比如 L123 cache）


2 CPU 的命名---通俗易懂，商业目的
最简单的例子就是苹果的 A（APPLE） 系列处理器，手机上用的就是 A10，A12；iPad上用的就是 A12X[10]；手表上用的就是 S（Syetem in Package SiP）等等[11]
Intel 的稍微复杂一点，看下图[12]：
文中大量引用了 Intel core i9-9900K 的原因不是因为我收了因特尔的钱，而是由于它的相关信息比较全，比较容易拿过来讲解。
Brand -- 商标
Brand modifier， 产品型号，比如i3, i5, i7, i9
Gen Indicator, 产品代，比如2019年是第九代产品，2020年初就会更新第十代产品。这个代不仅代表了它的制程工艺，也代表了它的架构
SKU， 这个如果是小白就直接理解为越大越好。比如我可以负责任的告诉你，9980XE[13]，性能上是要比 9900K 要好很多的
Suffix，后缀，这里一般都是标明 芯片是否能够超频，电压是标压还是低压
3 CPU 的外形，接口，封装[14]
3.1 封装
整个芯片其实非常非常小，我们外界能看到的产品是对他进行封装好之后的效果，封装当然是主要为了保护芯片，但还有一个很重要的作用就是为了更好的和外界进行沟通（交换信息）。随着封装技术的发展，芯片引脚的密度越来越大，芯片集成程度越来越高。我放几张图，让大家看一下科技的进步把：
最经典的封装方法：Dual in-line package，DIP（双列直插封装）[15]，学过数电的都接触过这种封装的芯片，这种芯片一般都是 少引脚的。
Dual in-line package，这也是早期的芯片封装方式
芯片引脚插入电路，和这种封装配套的技术叫做：“Through-hole technology“[16]当然这个电路穿孔技术在集成电路里还有另一层意思，比如 3D NAND RAM 里面的穿层技术（这个讲到 Flash 的时候会讲）
DIP 封装是不能满足芯片引脚数目的提高的，此时就有了密度更大的封装方式。PC CPU 里，目前最为复杂的封装方法就是这样的：i9-9900K FCLGA-1151 (LGA) 封装方法[17]，每一个金黄色的点，都是 CPU 和外界进行联系的方式，每一个引脚的功能和使用方法可以查 data sheet 。
Intel core i9-9900K FCLGA-1151 (LGA)
随着系统的设计复杂，之前的封装结构已经不能满足了，于是就有了更为复杂的封装结构：System on a chip，SoC[18]，Soc 我会在下一小节的 芯片结构里面用 A12X [10]作为解释。追求更高电路密度的方法就是 Package on package ‘叠电路’[19]，但是由于散热问题反而效果并不特别好，举例就是 iPhone X 的双层电路板结构[20]。而目前追求电路复杂程度的极致，叫做 System in package， SiP[21]，把整块电路版想办法做到一起，比如 Apple watch 4 的 S4 芯片[22]。
S4 来源 ifixit


3.2 总线----CPU 与外部沟通
想要理解CPU是怎么和外界进行沟通的，我们可以查看相对应的 CHIPSET ---Z390[23]来大概感受一下：
看图右上角，CPU 与 DDR4 是直接相连
图左上角，一共 16条 PCIe，可以分给SSD也可以分给显卡（一般这里分给显卡，SSD接在 Chipset 分出来的24条 PCIe）
左上往下看，3个DP口（有一个很有趣的小知识，请问一共有多少条PCIe 3.0的线，以及为什么苹果 15 MBP 能分出来四个雷点三？？）
DMI 3.0总线，接 Chipset，之后进行细分，比如直接与 Optane 存储相连，==不一一解释了。
额外小知识：雷电接口是怎么回事？戳这里[24]雷点三接口的全速半速是怎么回事？[25]
Double Port (DP) uses a PCIe 3.0 ×4 link to provide two Thunderbolt 3 ports (DSL6540, JHL6540, JHL7540)
Single Port (SP) uses a PCIe 3.0 ×4 link to provide one Thunderbolt 3 port (DSL6340, JHL6340, JHL7340)
Low Power (LP) uses a PCIe 3.0 ×2 link to provide one Thunderbolt 3 port (JHL6240).


4 computer architecture 系统架构-----（坑太大先不填了）
4.1 架构到底是什么？[26]复杂指令集（CISC)和精简指令集（RISC）是什么？[27]
4.2 ARM（RISC）省电么？[28][29]
4.3 性能差别大么？[30]
4.4 谁是未来？[31]（强烈推荐看 RIO 的回答）
5 芯片结构
设计芯片时会考虑到芯片的用途，根据用途而设计芯片。比如为了自动驾驶，那么肯定我们需要更多的神经网络处理 NPU，CPU选取 Cortex-A72[32][33]。下面我举几个例子，来感受一下内部结构的区别。
5.1 ：X86，Intel Coffee Lake[34][35]
这个芯片，就是非常单纯的，性能至上的芯片。
Intel core i9-9900K
如果拿放大镜去看，就可以看到CPU 内部长这个样子，当然图中的颜色都是为了方便大家看清楚是干啥的专门上色的哈。从图中可以看到，芯片中间紫色部分是 8个 CPU核心（俗称8核 i9），8个核心 share 红色的 L3 cache；左边蓝色的是‘核显’ Intel® UHD Graphics 630，System Agent 是负责和外部进行沟通的。为了更方便的理解每一部分是做什么的，请看下面两张图：
注：图中是一个 6核心的展示图
每一个‘core‘内部结构我就不展示了，感兴趣戳这里[36]。
5.2 ARM，A12X bionic[37][38][39]
目前手机市场最强核心 apple A12X，架构ARMv8.3 (ARM)， 制程工艺7nm，这个芯片就是上文所提到的‘高度集成’其他功能的芯片。
在 3.1 章节封装部分，我说 A12X 是SoC 封装，在这里我就详细的解释一下：看下图，如果你把这张 A12 X的图 和 9900K 的图进行对比你会发现：图中右侧，系统一共8核CPU（4大Vortex，4小 tempest）；神经网络处理器 NPU 在芯片中间；左上角系统 GPU ==，可以看到，系统左侧右下角，集成了很多很多‘CPU’之外的芯片，比如 ISP image signal Processor，景深 Depth Engine等 ，详情戳引用。[39]
为了对比方便，我把9900K的图拿过来，可以看到，9900K 并没有上图中下面那么多其他的核心。
5.3 FSD Chip（特斯拉自动驾驶芯片）[40]
这个芯片，自动驾驶芯片，看一下内部结构就知道，2个大大的NPU占据了系统的绝大部分空间，主要就是在算神经网络。
6 芯片生产
6.1 生产工艺 Lithography
Lithography refers to the semiconductor technology used to manufacture an integrated circuit, and is reported in nanometer(nm), indicative of the size of features built on the semiconductor.
当系统架构，结构确定好了之后，就可以进行生产了。虽然我在这里写的，让你感觉可能是设计和生产是独立的两个过程，但其实不是，在芯片设计的第一个环节，打开芯片设计软件，建立工程的起始，就要选择生产的工艺。在芯片设计之初，我们要选择一个最小尺寸（举个例子），比如 ，那么其他所有器件的尺寸都要是这个数的整数倍（一般是偶数倍），比如们宽度是 ，比如导线宽度 这样。
而人们常说的 7nm工艺指的就是这个 ，对应在具体的电路图上：
如果是25nm工艺之前。横截面，L 就是我们所说的制程工艺距离。——Behind the nanoscale process is the true and false: Intel invincible technology failed?
22 nm 后 finFET
22nm之前，门是一个2维的门，之后为了更高的效率，需要用 3维 的门，Intel对这个称之为‘FinFET’。这里有个视频，Intel 官方讲解 Tri-gate的具体原理，一看就懂了：Intel 22nm 3D-Tri-Gate-Transistoren[41]，这里还有个文章解释：先进工艺22nm FDSOI和FinFET简介[42]
再往后，14nm以下，还没有一种统一的方案，各个厂商走的方案都不一样（详情可以戳这里），不过可以上两张图[43][44]来感受一下：
6.2 工艺具体参数
我相信所有人听到的对于 CPU 最多的描述就是 xx nm 工艺，比如今年最新的就是三星/TSMC的 7nm 工艺制成的的 CPU ，因特尔卡在了 10nm止步不前，但是没有人告诉你，这是由于不同厂商对这个距离的定义不一样所造成的一个巨大误会，不过实在是太专业了，就不具体解释了，简单记住一件事就好 Intel 10nm 等于 TSMC 7nm）[45][46]
这张图是 10nm工艺的三家对比，我们可以看出，Intel 的多项指标都是好于 TSMC 与 Samsung 的
我们看指标，号称 7nm的 TSMC 和 Samsung 和 10nm 的 Intel 的指标几乎是差不多的。
为了方便大家理解，放上一张渲染图吧[47]：
WikiChip’s Transistor Diagram (simplified)
6.3 光刻印刷
现在最先进的光刻机用的光是‘极紫光 EUV’ （波长 小于 紫光（193nm）），其实光刻印刷是一件非常神奇一的事情，在我看来最迷人的是这两件：
光印原理与流程，电路是怎么一层层的印刷上去的
光刻机怎么用波长这么大的光波刻蚀仅仅 7nm 的沟壑的。
把沙子提纯成高精度的 SI die，然后把它切成非常薄的片 wafer，光刻机就一层层的刻，下面我贴一张一个最简单的 Pmos 为底的 CMOS刻蚀过程[48] ：
Simplified process of fabrication of a CMOS inverter on p-type substrate in semiconductor microfabrication.
整张wafer 刻完后长这个样子：
Coffee Lake silicon wafer with 8th generation core 6-core processor dies.（注，图上的颜色不是开玩笑加上去的，wafer 刻完之后真的是五彩斑斓的，由于微观结构反光）
之后芯片被切下来，然后封装，就成了我们市面上所见到的芯片了。更详细的过程可以点击这里：[49][50][51]


电路印刷，不是拿个刷子刷上去这么简单，每一层电路，每一层电路要刷N遍，都需要很多 mask，而每一个mask 都非常之贵。现在电路电路越来越复杂，电路从最早的2面印刷（正反面），到现在的 7 层 10层，导致设计与制造的难度与成本随之上升了。（在这里的层是内部结构，不是说苹果 iPhone X 所用的双层电路板，这是两个概念）
6.4 下脚料与成本
看到这里，你会很自然地想到，从圆形的 silicon wafer 上切正方形（长方形），那么边角肯定是且不出来的。对，没错，你放大看上面的图就会知道，几乎是wafer 边上一圈全都是废了的。而且这个问题会随着我们需要生产的芯片的面积增大而更严重（里面芯片面积大了，边边废的更多）
所以不是说生产芯片的厂商不想生产更大的芯片，而是说成本会急剧上升，现在这么做是不经济实惠的。
Wafermap showing fully patterned dies, and partially patterned dies which don&amp;amp;amp;amp;amp;amp;amp;amp;amp;#39;t fully lie within the wafer.
为什么不能生产长方形的 wafer？非要生产圆形的？ 硅提纯的整个流程（Czochralski process）[52]就是会产生圆形的SI晶体，把它切成片就是 wafer。
Crystal of Czochralski grown silicon.
OK。。。肯定你想到了，如果 wafer 直径越大，那么其实有效利用的面积相对增大了，现在的wafer主流是 300mm，厚度是775um[53]。你是不是觉得非常小？为啥不生产更大直径的 wafer？？原因是由于用 Czochralski process 来生产 SI 晶体，直径越大，难度越高，成本已经不是线性增长，而是指数级增长。
Czochralski process
那有没有更好的生产 Si 晶体的方法呢？目前还没有，其他的方法反而成本更高。




芯片产业虽然是最高科技，但是它本质还是‘产业’是以盈利为目的的。芯片制造与设计要考虑的非常重的一部分就是如何减少成本，而上面的晶元的问题只是冰山一角，真正的 cost 的大头根本不是晶元，生产过程中一个 mask 就要 millions $来计算，所有外行觉得买个光刻机再加一个设计团队不就能生产芯片了？？
真的并不是，它就算花重金做出来，它没有‘经济利益’，是个赔本赚吆喝的过程。
6.5 芯片的‘体质’ Process variation[54] 以及市场细分
OK，6.4提到了芯片生产商其实是以经济利益为驱动的，但是芯片生产不是生产‘时尚快消品’，不是说要生产出来不同的型号，不同主频，不同缓存的 CPU 来进行‘市场细分’，以剥削消费者。事实上，芯片都是生产出来之后，根据体质的好坏再进行分类包装的。比如：
生产一个6核 i7，发现坏了一个核心，这时候就直接屏蔽掉两个核心变成 4核i7卖；
目的是生产16MiB 的 L3 cache，但是坏了2M，那么就在屏蔽一点，按 12Mib 来卖；
设计主频是 2.6GHz 的，由于‘体质‘不好，达不到2.6的 就按2.4卖，再不好的就按2.2来卖。
更详细的请戳这里：同型号同款 CPU 为什么会有「体质」之分？[55]
我还想补充一下：“wafer 边缘的芯片更容易体质不好，中心的体质会相对好的比例多一些”，这个是有争议性的。[56][57]不过有一件事就是现代芯片设计过程，考虑到了大量的可能会出现偏差的过程，在设计过程中尽量的避免了。


除了上述市场细分之外，苹果和 Intel 有深度合作的排他协议，能拿到最上乘品质的芯片，其他厂商再分中上乘的品质芯片，最后散装的一般都是最差的。mac 里的CPU 是没有散装卖的，虽然很多人会说苹果特供芯片就是普通芯片贴牌，其实准确的说是专门质检过的。
7 CPU 的历史以及未来发展方向
1946年，人类历史上第一台由电子管组成的电脑 ENIAC [58]，但是你们肯定听说过它占地多么大，需要多么大的电能；现代电路的发展其实是从 1947年 bell 实验室发明的第一个晶体管开始算起[59]，更准确的说是1960年的场效应管 FET[60]。
场效应管就是第六章里提到的最基本单元，但由于半导体物理实在是复杂，我并不想多去阐述具体运作原理，大家简单记得电路里最基本的东西就这个：
所有的FET都有栅极（gate）、漏极（drain）、源极（source）三个端；除了結型場效應管外，所有的FET也有第四端，被称为体（body）、基（base）、块体（bulk）或衬底（substrate）
有了 FET，有了Si芯片，有了光印刷，集成电路突飞猛进发展，摩尔这时候站出来说的摩尔定律就是在这个背景下提出的。
然而到奔腾四[61]后，CPU 的主频上限已经被卡住了。原因是‘现代’集成电路的能效比其实超级低，大概1%，就是说大部分供电都会转化成热量散失掉了，只有1% 的能量变成了我们运算用的。当我第一次接触各种‘漏电流’的时候，我都对这个世界充满了绝望，what？整个芯片所有地方都在漏，没有不漏的。。。
由于能效比这么低，造成的结果就是CPU 非常的热，为了不让他烧坏，CPU 有非常夸张的散热方式，一个大风扇的风冷，或者液冷（水冷）。如果用液冷给他降温，奔腾四就能超频到 5GHz ；但是根本不经济实惠，所以从此集成电路在追求更高的能效比。但绝对不是简简单单的追求能效比，还有诸多考虑的问题。


至于未来的问题，强烈推荐阅读 矽说 的这三篇文章，以及相关问题讨论，在此我就不费口舌了：
李一雷：摩尔定律何去何从之一：摩尔定律从哪里来？摩尔定律到极限了吗？
李一雷：摩尔定律何去何从之二：More Moore or More Than Moore?
李一雷：摩尔定律何去何从之三：Beyond CMOS
CPU 的摩尔定律是不是因为 10 纳米的限制已经失效了？10 纳米之后怎么办？
Ok，上面第一部分就是个综述，下面的内容会更加细节以及深度，正文部分：我觉得大部分领域相关的回答有一个通病就是他们并没有深入的思考芯片里的逻辑和它的物理结构之间的关系，也就是一个非常‘浮于表面’的回答，知其然，不知其所以然。
1 为什么 MOSFET 是 逻辑电路的最基本单元，为什么电路最基本的逻辑是‘非’，以及为什么逻辑是“与非’ ‘或非’而不是 ‘ 与’ ‘或‘，我在这篇文章[62]中解释了一部分，就搬运过来了。
metal–oxide–semiconductor field-effect transistor 是最最最基本的结构，根据掺‘杂’不同，分为 PMOS&NMOS，一个PMOS +一个 NMOS 组成了 CMOS[63]，而现代处理器的最基本运算单元就是这个 CMOS，看下图。
电路最基本逻辑结构 CMOS ---‘非门’，非逻辑
如果横过来看：
OK，之前我们是用一个1 P + 一个N组成的一个 CMOS，我们稍加改变，让电路稍微复杂一点点，由两个 P两个N ，就会形成 “与非门”，“或非门”，NOR， NAND。下图是逻辑结构，如果你感兴趣，可以看看 N Pmos 的原理，以及为什么它们能形成这两个逻辑。
于是，‘与’逻辑门的结构 就是一个 ‘与非’+ ‘非‘，组合起来得到；同理，‘或’逻辑，就是‘或非’+‘非‘。同理，其它更复杂的逻辑运算都是通过最基本的 CMOS 组合起来得到的，比如：
半加器，half ader
全加器，adder，ALU
多路选择器，MUX，
简单版 CPU
更复杂的结构我就不贴出来了，你感兴趣的话是可以查查相关的资料，但有一件事你要明白，这些复杂的功能，都是由最简单的 CMOS 组成的，而由于结构决定了最基本的逻辑单元是 非。
我说的肯定是不全的，这里有一个推荐阅读：HTG Explains: How Does a CPU Actually Work?，加了更多的最基本的单元，BUS，Memory，Clock， Stepper 等介绍。
2 把‘电子’ 装进盒子里的各种储存单元：register（俗称寄存器，L0 cache），cache（SRAM），DRAM（俗称内存）， & Flash Drive （俗称‘闪存’）
这一小节里的所有储存单元的基本原理都是，用一个容器来储存电荷，我们规定有足够多的电荷的时候，就为逻辑1，没有足够多的时候，就为逻辑0.
2.0 Computer Memory Hierarchy[64]
这张图老了L3 cache 没有加上，不过不影响主要理解，
上面这张图解释了，和CPU 关联的相关储存单元，CPU 先从 L0 搜寻有没有存在这里，没有就去L1 搜，在没有就去L2搜，搜到后就送回运算单元。如果你对这部分有更深的兴趣，原图戳这里：[36]
intel - Skylake
右边 L2 cache ，出去接 L3 cache（意思是所有外面的信息都会在 L2 停留），Front end 和 Memory subsystem 各有一个32KiB的 L1 cache，那些 Buffer就是一些寄存器。 回忆之前第一部分的一张图[36]，CPU的结构：
8核 share一个大 L3 cache，所以L3 cache 的作用就是一个CPU内，多核心协同工作。
2.1 Dynamic random-access memory，DRAM
寄存器懒得讲了，感兴趣自己看维基百科[65]吧，DRAM 在结构上是所有存储单元里最简单的[66]：
红色地方就是我标注的一个memory cell，由一个 NMOS 接电容接地组成
看上面红色标记的部分，一个内存的基本单元是 由一个 NMOS 接电容接地组成的；看到这里有电路基础的人肯定能看出来，当门极通电时，NMOS导通，如果供电，那么就会对电容进行充电；而电容接地了，电容的电不断的在散失。能坚持看到这里的人肯定知道 内存是在不断的‘刷新‘（一般来说，64 ms[66]），来维持电的稳定的，所以我们称之为 dynamic-RAM。
当电容里有足够多电荷时，就会有电压；电荷慢慢丢失，那么就会变成0. （一般不会出现让它慢慢丢失的情况，都是不断的刷新给他加新的电进去）
2.2 L123 cache， SRAM[67]
SRAM 保存电压/电荷的方式十分巧妙，用四个三极管来控制‘保存’一个电荷。同样是一个bit， Dram 只需要一个 NMOS+一个电容，而这个SRAM就需要 6 个三极管。高昂的制作成本，换取的是稳定性与速度。而这种 SRAM 只有 CPU 内部才有，外面也不会有，也买不到。
（ok，那为什么这样的结构会更快呢？答案戳这里[68]）
标准 6个transistor 组成的 6T SRAM
A typical SRAM cell is made up of sixMOSFETs. Eachbitin an SRAM is stored on fourtransistors(M1, M2, M3, M4) that form two cross-coupled inverters.
2.3 Flash Drive
2.3.1 flash drive 的命名[69]：
the name "flash" was suggested by Masuoka's colleague, Shōji Ariizumi, because the erasure process of the memory contents reminded him of the flash of a camera.
2.3.2 Floating gate
Flash 的最基本单元和之前的 MOS 类似，但是多了一个 floating gate，在电路图中多了一个横线（下图中框框中的mos）来表示。float gate的目的就是存放电荷（电子）。
NAND Flash
单纯拿过来一个放大了看，中间门极和衬底中间多了一个 float gate。
Float gate 里存的是电子，有电压就认为是逻辑1，没有就是逻辑0 。（SLC 状态下）
float gate 和衬底之间只有非常薄薄的一层隔绝层（隔离层就是下图中灰色的部分）。每次写入和读取都会对隔绝层有损害，日积月累，隔绝层就会坏，这时候内存就坏了。


2.3.3 NAND/NOR Flash 都是Toshiba 发明的，但是 Nor 死了（其实还是有的，但是并不普及），下图就是原因：
NAND 容量密度更大
2.3.4 2D 到 3D NAND[70][71]（三星称之为 vertical， VNAND）
简单解释一下吧，之前的储存模式是一层，之后就跟叠积木，建摩天大楼一样盖高层。[72]
建议观看 Intel 官方介绍视频：英特尔® 3D NAND 技术如何推动存储发展-英特尔® 官网[70]
叠出来效果是这样子的：
Toshiba takes 3D-NAND to 96-layers, 4 bits per cell
目前来说叠到了 intel 660P，64层 3D QLC[73]，三星 970 EVO PLUS，96层 V-MLC[74][75]
2.3.5, SLC --- MLC---TLC----QLC
Micron QLC
以前，一个memory cell 里有电压我们就认为是逻辑1，没电压就认为是逻辑0；科学家们发现这样虽然稳定，但是不经济实惠。于是我们把同一个memory cell 根据电压水平的不同来确定不同的逻辑水平，MLC 就能有2bit ，TLC 3bit，QLC 4bit 这样。
在此我就不扯到底好不好了，感兴趣戳这里看知乎讨论[76][77]，反正事实上把：没人跟钱过不去。大部分人（我说的绝大部分人就是这篇文章都看不进去的那些，根本不可能在5年之内把 QLC 写死，谢谢，就算死了，Intel 5年质保。同样的，这篇文章都看不懂的人，一年能几次把 flash 的 cache 给写完，从而把速度掉下去？）来说，又快又便宜就是好事啊。
推荐看这篇测评：https://www.youtube.com/watch?v=OffzVc7ZB-o
2.3.6 '电子危机‘
如果给爱因斯坦说，我们打算做一个容器，装电子，大概就装几十个吧，爱因斯坦会直接怀疑人生的。。。
你是学物理的，知道电子有小，想把电子装进一个容易有多么不容易。而目前夸张到，每 100mv 只是由 15个电子 来区分。（真的太不稳定了，不过还好，我们依旧可以通过DRAM 的刷新方法来给 Flash 供电，省的存错了）
https://twitter.com/alt_kia/status/1046448638199644160
2.3.7 SATA [78]OR PCIe[79] NVMe [80]，以及 M.2[81](可简单理解为尺寸）
最新几年的CPU及其 chipset，比如 Z370，虽然还提供SATA，但几乎可以忽略，PCIe 占据了几乎全部总线（除了DMI）的范式。
2.3.8 推荐阅读：
纳米技术走到尽头？固态硬盘闪存如何跳出即将终结的摩尔定律[82]
3 TDP，主频，以及超频
3.1 TDP [83][84]
Thermal Design Power (TDP) represents the average power, in watts, the processor dissipates when operating at Base Frequency with all cores active under an Intel-defined, high-complexity workload. Refer to Datasheet for thermal solution requirements.
i9-9900K 的TDP=95W，但是官网是不提供具体损耗的，想知道细节只有前两个方法：1，查datasheet（这个需要问intel 要，而且普通人看不懂）；2，做测试[85]，发现极限瞬时功率已经到204W ；3，功率计算器，比如 MSI 提供的[86]（TDP）。
而其实现在的芯片都在追求能耗比，即 更小的功率有更好的效率。
3.2 瞬时超频的Turbo boost [87]
对于普通用户（非游戏玩家，非专业用户）来说，workload 并不是稳定的，大部分workload 都是非常平稳（低的），在打开软件的瞬间才大。所以瞬时超频就能非常‘聪明’的解决这个问题。
3.3 低压处理器
比如超级本上，我们就限定 功率 TDP = 15W 的基础上，CPU 运行速度越快越好！
芯片里的功耗，最大的功耗就是‘漏’掉了，如果你深入研究会发现，几乎所有地方都在漏，没有不漏的，生产工艺/设计工艺里，有很大一部分都在研究如何减少‘漏电‘的情况。不过先抛开怎么减少的漏电，我们先直观的感受一下 CPU 的功耗是什么[88]：
，C is capacitance, f is frequency, and V is voltage。
这个公式特别好理解，CPU 的功耗和 电路运行的速度成正比，和电路运行的电压的平方成正比。所以想要减少CPU 的功率，就要想办法降低这三个值。
非常的巧：如果我们把 门做小， 电容 C 会随之变小（电路设计里，怎么制作大 C 是个非常大的问题）； f 我们想保持不变，减少电压 V 就是最好的办法。这就是你所见到的那些‘超级本’ 用的 “低压处理器“的原因。
如果你还感兴趣，可以继续看这个问题：为什么计算机芯片大都采用低电压大电流的供电方案？[89]
3.4 为什么低电压就很难高功率，为什么超频需要高电压？
有人告诉你说，调高电压，就能超频，但是没有告诉你为什么；在1.2 章节里提到了，我们希望功率低，但频率高，那么唯一可行的办法就是降低 C 以及 降低 V。
你可能会想，V 为什么不能降低？加载到门极上的电压低而运行在高频率（不断的开关）的的时候，CPU 会出错。如果想要‘感性的认识’而不是直接拿过来公式给你展示出来的话就是：‘我们把电压类比成关门的时候用的力气，高电压就好像是用力关门，关门会关的很紧，而低电压的时候（门级电压不够高），关门关不紧，这个时候就会让电子泄露，导致 0/1 混乱。（当然实际上，门级电压是怎么影响运行速度的不是这么计算的，在这里是为了让人更好理解。）
同样的，我们高电压的时候，CPU 就更不容易出错，就可以在更高的速率上运行。这也就是俗称的‘体质’，我借用一下别人的图[55]来让你更好的理解一下：
横坐标是 CPU 运行的频率，纵坐标是CPU 运行电压，绿色表示 CPU正常工作，红色表示 CPU 出现错误。从图上可以看清楚，为了保证CPU 处于正常工作状态下更高的频率，就需要更高的电压。
所有些人说‘调高电压就会超频’ 是把因果弄反，不是说我们调高了电压 CPU 就会更高的主频，而是说，想维持CPU 正常工作的前提下，更高的主频需要更高的电压。
后记：
希望能对看到文章的人有所帮助，如有不懂可以留言即可，我会补充细节进行解释的。
欢迎留言，指正错误，或者提供相关资料。答主还有好多想要分享给大家的有空一定会更新内容的（optane，PCIe 4.0；Zen2 ）。
谢谢！！！！

问题：报废的炮管要如何处理？
答者：米凯勒 法比恩
回答：首先是一艘主力舰（铁甲舰，前无畏，无畏，战列舰——总之“重炮主力舰”）从服役到退役总共需要发射的弹药数量的问题。乍看之下“三百次发射”对于服役三四十年的主力舰而言平均到每年不过十次发射，但是首先要注意这三十年的服役期限里真正出于战争状态的可能不到十年。和平年代的训练有各种方式节约身管寿命，比如炮塔内部训练发射但是实际上并不进行主炮射击——而即便是真正在战争期间，每年有可能进入交战距离的机会可能一次都不会有。所以本身主炮发射数量在开战后只有太多，没有太少；无论是药室寿命还是管身寿命，本身富余量都是存在的。真正如1941到1942年同时和日，意，法，德四国舰队高强度周旋，远超过正常情况下使用强度的H.M.Battleships也是经过了战争最艰苦的两年内数次激烈交火和战争后期大量沿岸炮击才烧干老式战列舰的身管的（即便如此仍然没有烧干储备，仍然能给前卫拉出来存货）。
比如1939年9月战争爆发以来，H.M.S.Warspite在地中海和北海服役，参与了航母编队护航，追击敌战列舰，驱逐敌驱逐舰与巡洋舰编队和护航的任务，但是没有一次成功让敌舰进入主炮射程内，因此没有发射一次主炮。进入1940年，大量QE级和BCS伴随航母编队在挪威附近进行了一系列高强度作战任务，也有过数次遭遇，但是直到当年的4月13号12点59分DW行动（第二次纳尔维克战役），她才在战争中第一次使用主炮开火。换句话说，十三个月里，训练也好，战斗也好，都没有发射过一次主炮。
其次是所谓身管报废的标准和火炮本身的生产数量的问题。比如著名的BL 15in Mk1，也就是RN的祖传15寸火炮，生产总数量高达184门，而实际需求只是5QE（40炮），5R（40炮），BCS（20炮），波罗的海计划（8炮）总计108炮。而所谓海军的“火炮寿命终结”，不过只是初速度下降百分之四五，这里损耗的是炮身内圈的管线，并不是真的认为这门火炮的所有部分都已经彻底不能使用——这种火炮当然不能在主力舰上冒险，但是拉回去返厂换芯是没有问题的。
本身数量极其庞大的制造量和主力舰极其严苛的身管标准，意味着有大量的轮换翻新机会。计划变更和富裕的库存，首先可以被用于制造浅水重炮舰：把退役战列舰的主炮安装在迷你岸防战列舰上，装满防空反潜设计，放弃航速，就可以执行巡逻和炮击的任务。WW1和WW2中都有大量的浅水重炮舰执行这一任务，上文中的15寸炮就被用于罗伯茨级，恐怖级，内伊元帅级等各种浅水重炮舰。其次这些火炮可以用于要塞防御，比如英吉利海峡，也比如新加坡要塞。当然，通过返厂改造和翻新可以升级，延长火炮寿命以外，回炉也是可以的。万物都可以回炉··· ···
战争后期的做法就是把不能在一线服役的主炮储存起来集中提供给少数几艘战列舰，然后进行大规模不要钱级别的沿岸轰炸。英美海军从马来西亚炸到了夏尔堡，也是依靠庞大的火炮库存实现的。
总结下：
1，主炮寿命本身并不短，尤其是在战时，大量战列舰没有发射主炮的机会。
2，真的三百轮齐射发射后船居然还没沉没被炸进船坞就别关心浪费炮管了。
3，大量生产主炮和轮换翻新主炮进一步增加了可供使用的火炮数量，让主炮储备更加富裕。
4，在这种情况下，一方面可以建造浅水重炮舰，另一方面也可以建造岸炮。
5，当然仓库里的存货也可以直接返厂or回炉。

